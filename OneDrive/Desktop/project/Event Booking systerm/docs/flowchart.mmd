flowchart TB
  subgraph User[User (Visitor)]
    U1(Browse Events)
    U2(View Event Details)
    U3(Book Tickets)
    U4(View Bookings)
  end

  subgraph Admin[Admin]
    A1(Admin Login)
    A2(Create/Edit Events)
    A3(View All Bookings)
  end

  subgraph Frontend[React Frontend]
    F1[Home (/)]
    F2[Event Details (/events/:id)]
    F3[My Bookings (/bookings)]
    F4[Admin Dashboard (/admin)]
  end

  subgraph Backend[Node/Express API]
    B1[/api/events]
    B2[/api/events/:id]
    B3[/api/bookings]
    B4[/api/auth]
  end

  subgraph DB[MongoDB]
    D1[(Users)]
    D2[(Events)]
    D3[(Bookings)]
  end

  U1 --> F1
  F1 -->|GET /api/events| B1
  B1 --> D2

  U2 --> F2
  F2 -->|GET /api/events/:id| B2
  B2 --> D2

  U3 --> F2
  F2 -->|POST /api/bookings (auth)| B3
  B3 --> D3
  B3 -->|decrement availableSeats| D2

  F3 -->|GET /api/bookings/user/:id (auth)| B3
  B3 --> D3

  A1 --> F4
  F4 -->|POST /api/auth/login| B4
  B4 --> D1

  F4 -->|POST /api/events (admin)| B1
  F4 -->|PUT/DELETE /api/events/:id (admin)| B2
  F4 -->|GET /api/bookings (admin)| B3

  B3 --> D2
  B1 --> D2
  B2 --> D2
